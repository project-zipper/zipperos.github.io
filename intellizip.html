<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>IntelliZip – ZipperOS Assistant</title>
  <link rel="stylesheet" href="style.css?v=2">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;900&display=swap" rel="stylesheet">
</head>
<body>

<!-- ANIMATED BACKGROUND GRID -->
<div class="grid"></div>
<div class="particles"></div>

<header class="navbar">
  <div class="nav-left">
    <img src="logo.png" alt="ZipperOS Logo" class="logo">
    <span class="brand">ZipperOS</span>
  </div>

  <nav class="nav-links">
    <a href="index.html">Home</a>
    <a href="about.html">About</a>
    <a href="docs.html">Docs</a>
    <a href="terms.html">Terms</a>
    <a href="privacy.html">Privacy</a>
  </nav>
</header>

<section class="hero" style="overflow: hidden;">
  <div class="hero-content" style="max-width: 60%;">
    <h1>Meet <span>IntelliZip</span></h1>
    <p>Your intelligent assistant for ZipperOS.<br>
       Ask questions, explore features, or get lists of Linux distros—all in one place.</p>

    <div id="suggestions" class="button-row">
      <button class="btn glow" onclick="sendPrompt('What is ZipperOS?')">What is ZipperOS?</button>
      <button class="btn glow" onclick="sendPrompt('Name 50 new Linux distros that are unpopular.')">50 New Linux Distros</button>
    </div>
  </div>

  <div class="float-image-container" style="float: right; max-width: 35%; margin-left: 25px;">
    <img src="intellizip.png" alt="IntelliZip Logo">
    <div class="overlay-text">IntelliZip</div>
  </div>
</section>

<section class="community">
  <h2>Chat with IntelliZip</h2>
  <div id="chat" style="background: rgba(255,255,255,0.05); padding: 20px; border-radius: 12px; max-height: 400px; overflow-y: auto;"></div>
  <div style="margin-top: 15px;">
    <input id="userInput" type="text" placeholder="Type your question..." style="width: 70%; padding: 10px; border-radius: 8px; border: none;">
    <button class="btn glow" onclick="sendInput()">Send</button>
  </div>
</section>

<footer>
  <p>Created by Wolfie — ZipperOS © 2025</p>
</footer>

<script>
const chatDiv = document.getElementById('chat');
const API_KEY = "AIzaSyAB2ybNFXZbMccHrd23rjLgPi5n0RwBwek";

// Display message
function addMessage(text, sender) {
  const msg = document.createElement('div');
  msg.classList.add(sender);
  msg.style.padding = '10px 15px';
  msg.style.borderRadius = '10px';
  msg.style.marginBottom = '10px';
  msg.style.maxWidth = '80%';
  msg.textContent = text;
  if(sender === 'user') {
    msg.style.background = 'rgba(255,255,255,0.4)';
    msg.style.color = '#000';
    msg.style.alignSelf = 'flex-end';
  } else {
    msg.style.background = 'rgba(0,0,0,0.3)';
    msg.style.color = '#fff';
    msg.style.alignSelf = 'flex-start';
  }
  chatDiv.appendChild(msg);
  chatDiv.scrollTop = chatDiv.scrollHeight;
}

// Send suggestion button
async function sendPrompt(prompt) {
  addMessage(prompt, 'user');
  addMessage('...', 'ai'); // placeholder while fetching
  try {
    const response = await fetch('https://generativelanguage.googleapis.com/v1beta2/models/text-bison-001:generateText?key=' + API_KEY, {
      method: 'POST',
      headers: {'Content-Type': 'application/json'},
      body: JSON.stringify({
        prompt: { text: prompt },
        temperature: 0.7,
        maxOutputTokens: 500
      })
    });
    const data = await response.json();
    const aiText = data?.candidates?.[0]?.output || "Sorry, I couldn't generate a response.";
    chatDiv.querySelector('.ai:last-child').textContent = aiText;
  } catch(err) {
    chatDiv.querySelector('.ai:last-child').textContent = "Error connecting to IntelliZip.";
    console.error(err);
  }
}

// Send text input
function sendInput() {
  const input = document.getElementById('userInput');
  if(input.value.trim() === '') return;
  sendPrompt(input.value.trim());
  input.value = '';
}
</script>

<!-- RESPONSIVE STYLES -->
<style>
  @media (max-width: 992px) {
    .hero-content {
      max-width: 100% !important;
    }
    .float-image-container {
      float: none !important;
      max-width: 80% !important;
      margin: 20px auto 0 auto;
      display: block;
      text-align: center;
    }
    .float-image-container img {
      margin: 0 auto;
    }
  }

  @media (max-width: 600px) {
    .button-row, #suggestions {
      display: flex;
      flex-direction: column;
    }
    .button-row a.btn, #suggestions button {
      margin-left: 0;
      margin-top: 12px;
    }
  }
</style>

</body>
</html>
